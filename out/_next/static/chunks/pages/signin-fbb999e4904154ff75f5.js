(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{3300:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return u}});var a=n(7294),r=n(1664),l=n(4649),t=n(9501),i=n(3890),o=n(5893),c=t.Ry().shape({phone:t.Z_().matches(/^1[3456789]\d{9}$/,"\u624b\u673a\u53f7\u7801\u9519\u8bef...").required("\u624b\u673a\u53f7\u7801\u4e0d\u80fd\u4e3a\u7a7a..."),password:t.Z_().min(6,"\u5bc6\u7801\u5fc5\u987b6\uff5e24\u4f4d...").max(24,"\u5bc6\u7801\u5fc5\u987b6\uff5e24\u4f4d...").required("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a...")}),d=function(){var e=(0,a.useState)({}),s=e[0],n=e[1],t=(0,a.useState)(0),d=t[0],u=t[1],h=(0,a.useRef)(!1),m=(0,a.useState)(""),p=m[0],x=m[1],f=(0,a.useState)(""),j=f[0],b=f[1],N=(0,a.useState)("error"),v=N[0],w=N[1],g=(0,a.useState)(0),S=g[0],_=g[1];(0,a.useEffect)((function(){h.current&&u(d+1)}),[s]);var k=(0,l.TA)({initialValues:{phone:"",password:""},validationSchema:c,onSubmit:function(e){console.log(e),function(e){if(x(""),!h.current){h.current=!0;var s=i.a5.signIn,a={};for(var r in s)a[s[r]]=e[r];console.log("signObj: ",a),n(a)}}(e)}});return(0,o.jsxs)("div",{className:"hero min-h-screen bg-base-200",children:[(0,o.jsx)(i.F2,{tipsText:j,tipsType:v,openTipsCount:S}),(0,o.jsxs)("div",{className:"flex-col justify-center hero-content lg:flex-row",children:[(0,o.jsxs)("div",{className:"text-center lg:text-left",children:[(0,o.jsx)("h1",{className:"mb-5 lg:mr-6 text-2xl font-bold",children:"\u767b\u5f55 SignIn"}),(0,o.jsx)("p",{className:"mb-5",children:"\u6b22\u8fce\u60a8\u767b\u5f55"})]}),(0,o.jsx)("div",{className:"card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsxs)("form",{onSubmit:k.handleSubmit,children:[(0,o.jsxs)("div",{className:"form-control",children:[(0,o.jsx)("label",{className:"label",children:(0,o.jsx)("span",{className:"label-text",children:"\u624b\u673a\u53f7\u7801"})}),(0,o.jsx)("input",{name:"phone",placeholder:"Mobile Phone",className:"input input-primary input-bordered",value:k.values.phone,onChange:k.handleChange,onBlur:k.handleBlur}),k.touched.phone&&k.errors.phone&&(0,o.jsx)("div",{className:"text-sm text-red-600",children:k.errors.phone})]}),(0,o.jsxs)("div",{className:"form-control",children:[(0,o.jsx)("label",{className:"label",children:(0,o.jsx)("span",{className:"label-text",children:"\u5bc6\u7801"})}),(0,o.jsx)("input",{name:"password",type:"password",placeholder:"Password",className:"input input-primary input-bordered",value:k.values.password,onChange:k.handleChange}),k.touched.password&&k.errors.password&&(0,o.jsx)("div",{className:"text-sm text-red-600",children:k.errors.password}),(0,o.jsx)("label",{className:"label",children:(0,o.jsx)(r.default,{href:"/forgetpwd",className:"label-text-alt",children:"\u5fd8\u8bb0\u5bc6\u7801 ForgotPassword?"})})]}),(0,o.jsxs)("div",{className:"form-control mt-6",children:[(0,o.jsx)("button",{type:"submit",className:"btn btn-wide btn-primary",children:"\u767b \u5f55"}),p.length>0&&(0,o.jsx)("div",{className:"text-sm text-red-600",children:p})]})]}),(0,o.jsx)(r.default,{href:"/signup",children:(0,o.jsx)("p",{className:"link mt-6",children:"\u6ca1\u6709\u8d26\u53f7\u53bb\u6ce8\u518c!"})}),(0,o.jsx)(r.default,{href:"/",children:(0,o.jsx)("p",{className:"link mt-4",children:"\u8fd4\u56de\u9996\u9875!"})}),(0,o.jsx)(i.LO,{api:i.MB.customerSignIn,method:"POST",data:s,resolveBk:function(e){console.log("responseHandle",e),h.current=!1,1e3===e.code&&e.token?((0,i.pp)(i.eW.userToken,e.token,180),b("\u767b\u5f55\u6210\u529f!"),w("success"),_(S+1),setTimeout((function(){window.location.href="/"}),1e3)):((0,i.Yz)(i.eW.userToken),x("\u767b\u5f55\u5931\u8d25, \u8bf7\u68c0\u67e5\u624b\u673a\u53f7\u7801\u548c\u5bc6\u7801..."))},requestCount:d})]})})]})]})};function u(){return(0,o.jsx)(d,{className:"flex flex-col justify-center items-center",children:"SignIn page"})}},6495:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return n(3300)}])}},function(e){e.O(0,[755,893,890,774,888,179],(function(){return s=6495,e(e.s=s);var s}));var s=e.O();_N_E=s}]);